!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";var r,o,i,s=n(3),u=n(11),a=n.n(u),c=n(12),f=n.n(c);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(){var e;return parseFloat((null==(e=r)?void 0:e.getRosettaEnvByKey("webLogger-throttling"))||"")||0}function d(){return window.nmtAppInfo?"app":function(){for(var e=navigator.userAgent,t=0,n=["Android","webOS","iPhone","iPad"];t<n.length;t++){var r=n[t];if(e.indexOf(r)>-1)return!0}return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<1}()?"mobile":"desktop"}function p(){var e=a.a.get("PS_ROLLOUT_ACTIVE_TEST_GROUP");return e&&["A","B"].includes(e)?e:void 0}function y(e){var t="https://rusty-heartbeat.prod.ps.axelspringer.de/";!window.psmetricsenabled||Math.random()<h()||(e.group&&"not_specified"===e.group&&(e.group=p()||"not_specified"),navigator.sendBeacon?navigator.sendBeacon(t,JSON.stringify(e)):window.fetch&&window.fetch(t,{mode:"no-cors",method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}))}Object(s.b)().then((function(e){return r=e}));var w=f()("net"),b=String(Math.random());function v(e,t){return t instanceof Error?l({},t,{message:t.message,stack:t.stack}):t}n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return A}));var g=function(e){var t=l({client:"not_specified",platform:d(),group:p()||"not_specified"},e);function n(e){return t.appName+"::"+e.join("::")}return{sendCountMetric:function(){try{for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=l({},t,{name:n(r)});y(i)}catch(e){}},sendGaugeMetric:function(e,r){if("number"==typeof r&&Number.isFinite(r))try{y(l({},t,{name:n(e),value:r}))}catch(e){}},updateBasicData:function(e){t=l({},t,e)}}}({appName:"ps-whoami-web"}),m=function(e){var t=e.logEndpoint||function(){for(var e=window.location.hostname||"",t=e.split(".").filter((function(e,t,n){return t>n.length-3})).join("."),n=["welt.de","bild.de","axelspringer.de","mypass.de"],r=0;r<n.length;r++)if(n[r]===t){for(var o=[".uat.ps.",".local.ps.",".uat.auth.",".local.auth.","cons.","test."],i=0;i<o.length;i++)if(e.indexOf(o[i]+t)>=0)return"https://web-logger.uat.ps."+t;return"https://web-logger.prod.ps."+t}return"https://web-logger.uat.ps.axelspringer.de"}(),n=!1,r=function(){var e=window.location.search||"";if(e===o)return i;var t={};return e.substr(1).split("&").map((function(e){return e.split("=")})).forEach((function(e){var n=e[0],r=e[1];n&&(t[decodeURIComponent(n)]=decodeURIComponent(r))})),i=t,o=e,t}(),s=r.pslt,u=r.psltts;function a(r){if(w("%o",r),!(Math.random()<h())){var o=l({},r,{app:e.appName,ts:(new Date).getTime(),pageloadid:b});return n&&(o.forceid=!0,o.pageloadid=s),window.fetch&&window.fetch(t,{credentials:"include",method:"POST",body:JSON.stringify(o,v),headers:{"Content-Type":"application/json"}})}}return s&&u&&Math.abs(parseInt(u)-Date.now())<3e5&&s.match(/^[0-9]\.[0-9]+$/)&&(n=!0),{info:function(e){return a(l({},e,{level:"INFO"}))},error:function(e){return a(l({},e,{level:"ERROR"}))}}}({appName:"ps-whoami-web"}),A=function(e){return m.error({message:e})}},function(e,t,n){"use strict";n.d(t,"k",(function(){return p})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return A})),n.d(t,"i",(function(){return E})),n.d(t,"c",(function(){return C})),n.d(t,"g",(function(){return _}));var r,o,i,s,u,a,c,f=n(0),l=n(5),h=n(3),d=n(4);function p(){var e=C();u="https://whoami-api.prod."+("welt.de"===e||"bild.de"===e?"ps":"auth")+"."+e,a="https://ego.prod."+("welt.de"===e||"bild.de"===e?"ps":"auth")+"."+e,c="https://consent-poc.prod.ps."+e,f.c.updateBasicData({brand:Object(d.c)(),context:"standalone",platform:window.nmtAppInfo?"app":Object(d.e)()?"mobile":"web",client:window.nmtAppInfo?window.nmtAppInfo.appIdentifier:"not_specified"});var t=l.a.of(document.cookie);t.isActive(l.c)&&(u=t.get(l.c)),t.isActive(l.b)&&(a=t.get(l.b));var n="https://login.prod."+("welt.de"===e||"bild.de"===e?"ps":"auth")+"."+e;o=n+"/login",i=n+"/logout",s=n+"/register"}function y(){return c}function w(){return-1!==window.location.hostname.indexOf("sportbild.bild.de")?"cm_cv_list":-1!==window.location.hostname.indexOf("shopping.welt.de")||-1!==window.location.hostname.indexOf("shop.bild.de")?"c_cv_list":"cmp_cv_list"}function b(){return u}function v(){return a}function g(){return o}function m(){return i}function A(){return s}function E(){return"B21B678254F601E20A4C98A5"}function C(){var e=window.location.hostname;if(e.endsWith(".hh-han.com")){if(e.indexOf("bild")>-1)return"bild.de";if(e.indexOf("welt")>-1)return"welt.de"}var t=window.location.hostname.split(".");return t.filter((function(e,n){return n>=t.length-2})).join(".")}function _(){return parseFloat(null==r?void 0:r.getRosettaEnvByKey("whoami-throttling"))||0}Object(h.b)().then((function(e){return r=e}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(7),o={FIRST_NAME:"fn",LAST_NAME:"ln"};function i(){try{var e=Object(r.parse)(document.cookie);return JSON.parse(atob(e.asinfo))}catch(e){return null}}function s(e){var t=i();return Boolean(t)&&e.every((function(e){return t.f.includes(e)}))}function u(){var e=i();return null!==e&&(null==e.subOrigin||"as"===e.subOrigin)}},function(e,t,n){"use strict";function r(e){var t={},n={},r=window.pssmasloader=window.pssmasloader||{require:function(e,r){var o=n[e];void 0!==o?r(o,null):(t[e]=t[e]||[],t[e].push(r))},_:{u:t,p:n}};return new Promise((function(t,n){r.require(e,(function(e,r){r?n(r):t(e)}))}))}function o(){return r("whoami:v1")}function i(){return r("utils:v1")}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var s=r},function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return b}));var r=n(7),o=n(1),i=n(0),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=["bild.de","welt.de","axelspringer.de","sportbild.de","autobild.de","computerbild.de"];function c(e,t){return r.parse(document.cookie)[e]||t||""}function f(e,t){l(e,t,2592e3)}function l(e,t,n){var r=new Date((new Date).getTime()+1e3*n).toUTCString();document.cookie=e+"="+t+";domain="+Object(o.c)()+";path=/; expires="+r+";secure;"}var h=function(e){var t=!1;return function(){return t||(t=s(void 0,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,2,3]),[4,e()];case 1:return[2,n.sent()];case 2:return t=!1,[7];case 3:return[2]}}))}))),t}},d=function(e,t){return function(){return s(void 0,void 0,void 0,(function(){var n,r,o;return u(this,(function(i){switch(i.label){case 0:if(n=Math.random().toString(36).substring(2),""!==(o=c(r="pswhoamimtx_"+e)))return[3,7];if(l(r,n,10),c(r)!==n)return[3,5];i.label=1;case 1:return i.trys.push([1,,3,4]),[4,t()];case 2:return[2,i.sent()];case 3:return l(r,n,0),[7];case 4:return[3,6];case 5:return[2,p(e,r,o)];case 6:return[3,8];case 7:return[2,p(e,r,o)];case 8:return[2]}}))}))}};function p(e,t,n){return s(this,void 0,void 0,(function(){return u(this,(function(n){try{i.c.sendCountMetric("whoami-task",e,"executed-in-another-tab")}finally{return[2,new Promise((function(e){var n=setInterval((function(){""===c(t)&&(clearInterval(n),e())}),500)}))]}return[2]}))}))}function y(){var e=window.location.hostname.split(".");return e[e.length-2]}function w(e){return"/"===e[0]&&"/"!==e[1]||(0===e.indexOf(document.location.origin+"/")||(0===e.indexOf("https://")?e=e.substr(8):0===e.indexOf("//")&&(e=e.substr(2)),e=e.split("/")[0],a.indexOf((t=e.split("."))[t.length-2]+"."+t[t.length-1])>=0));var t}function b(){for(var e=navigator.userAgent,t=0,n=["Android","webOS","iPhone","iPad"];t<n.length;t++){var r=n[t];if(e.indexOf(r)>-1)return!0}return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)/(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<1}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u}));var r=n(7),o="whoamiapi",i="userinfoapi",s=function(){function e(e){this.cookies=Object(r.parse)(e)}return e.of=function(t){return new e(t)},e.prototype.isActive=function(e){return this.cookies.hasOwnProperty(e)},e.prototype.get=function(e){return this.cookies[e]},e}();function u(e,t,n){var r;return r={group:e,name:t,uiLabel:n},(window.pssusanfeatures=window.pssusanfeatures||[]).push(r),{isActive:function(){return window.document.cookie.split(";").filter((function(e){return 0===e.trim().indexOf("PS_DARKLAUNCH_"+t+"=")})).length>0}}}},function(e,t,n){"use strict";var r=n(2),o=n(4),i=n(1),s=n(3),u=n(8),a=n(0),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},l=window;function h(){return"undefined"!=typeof Android&&Android&&!!Android.sessionRefresh||void 0!==l.Android&&l.Android&&!!l.Android.sessionRefresh}function d(){return!!l.webkit&&l.webkit.messageHandlers&&!!l.webkit.messageHandlers.sessionRefresh}function p(){return c(this,void 0,void 0,(function(){return f(this,(function(e){return[2,l.webkit.messageHandlers.sessionRefresh.postMessage(null).then((function(e){return a.c.sendCountMetric("session","refresh","ios","success"),e})).catch((function(){return a.c.sendCountMetric("session","refresh","ios","failure"),null}))]}))}))}function y(){return c(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){return l.androidSessionRefreshCallbacks||(l.androidSessionRefreshCallbacks={}),t=Math.random().toString(36).substring(7),[2,new Promise((function(n){l.androidSessionRefreshCallbacks[t]={resolve:function(e){if(null===e)return a.c.sendCountMetric("session","refresh","android","failure"),n(null);a.c.sendCountMetric("session","refresh","android","success"),n(e)}},(null!==Android&&void 0!==Android?Android:l.Android).sessionRefresh(t),e=setTimeout((function(){a.c.sendCountMetric("session","refresh","android","failure","timeout"),n(null)}),5e3)})).finally((function(){delete l.androidSessionRefreshCallbacks[t],clearTimeout(e)}))]}))}))}function w(){return c(this,void 0,void 0,(function(){return f(this,(function(e){if(h())return[2,y()];if(d())return[2,p()];throw a.c.sendCountMetric("session","refresh","app","failure","no_handler"),new Error("no handler available")}))}))}n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return A})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return O}));var b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},m="psapidelta";var A=function(){return v(void 0,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,U()];case 1:return e.sent(),M(),[2]}}))}))};var E,C=(E=Object(o.b)(Object(o.a)("refresh",(function(){return v(this,void 0,void 0,(function(){var e,t;return g(this,(function(n){switch(n.label){case 0:return a.c.sendCountMetric("session","refresh","execute_refresh"),h()||d()?[4,w()]:[3,2];case 1:return t=n.sent(),[3,4];case 2:return[4,v(void 0,void 0,void 0,(function(){var e,t;return g(this,(function(n){switch(n.label){case 0:return I()||a.c.sendCountMetric("session","refresh","unwanted"),[4,P(Object(i.j)()+"/api/refresh",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"refresh_token"})})];case 1:return(e=n.sent()).ok?[3,8]:(a.c.sendCountMetric("session","refresh","web","failure",""+e.status),401!==e.status?[3,3]:[4,Object(u.c)()]);case 2:n.sent(),n.label=3;case 3:t=void 0,n.label=4;case 4:return n.trys.push([4,6,,7]),[4,e.text()];case 5:return t=n.sent(),[3,7];case 6:return n.sent(),t="Failed to parse response body",[3,7];case 7:throw new Error("could not refresh token status: "+e.status+" body: "+t);case 8:return[4,e.json()];case 9:return[2,n.sent()]}}))}))];case 3:t=n.sent(),n.label=4;case 4:if(e=t)return function(e){Object(o.g)(m,""+((new Date).getTime()-e.server_time_millis))}(e),[2,e];throw new Error("could not refresh token")}}))}))}))),function(){try{return E()}catch(e){throw a.c.sendCountMetric("session","refresh","failed",e.name),a.b.error({message:"session refresh failed:",error:{message:e.message,code:500}}),e}}),_=function(){return v(void 0,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,1,3]),a.c.sendCountMetric("session","refresh","forced"),[3,3];case 1:return[4,C()];case 2:return e.sent(),[7];case 3:return[2]}}))}))};function x(e,t){return O().then((function(){return P(e,b(b({},t||{}),{credentials:"include"}))}))}function O(){return v(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:if(!Object(r.b)())throw new Error("user is anonymous");return k()?[4,C()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}function T(e,t){return v(this,void 0,void 0,(function(){var n;return g(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Object(s.b)()];case 1:return(n=r.sent()).fetchWithTimeout?[2,n.fetchWithTimeout(e,t)]:[3,3];case 2:return r.sent(),console.warn("[ps-whoami-web]: utils v1 not available"),[3,3];case 3:return[2,fetch(e,t)]}}))}))}var S=[408,409,429,500,502,503,504],R=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function P(e,t){return v(this,void 0,void 0,(function(){var n,r,o,i,s,u,a,c;return g(this,(function(f){switch(f.label){case 0:r=(n=t||{}).retries,o=void 0===r?3:r,i=n.retryDelay,s=void 0===i?2e3:i,u=1,f.label=1;case 1:if(!(u<=o))return[3,8];f.label=2;case 2:return f.trys.push([2,5,,7]),[4,T(e,t)];case 3:if((a=f.sent()).ok||!S.includes(a.status))return[2,a];if(u===o)throw console.error("Max retries reached. Fetch failed."),new Error("Failed after "+o+" retries with status "+a.status);return[4,R(s)];case 4:return f.sent(),[3,7];case 5:if(c=f.sent(),u===o)throw console.error("Max retries reached. Fetch failed."),c;return[4,R(s)];case 6:return f.sent(),[3,7];case 7:return u++,[3,1];case 8:return[2]}}))}))}var j=function(){return function(e){var t=new Date(1e3*e.expires).getTime(),n=(new Date).getTime()-parseInt(Object(o.d)(m,"0"),10),r=Math.max(0,t-n);return{seconds:Math.floor(r/1e3)}}(Object(r.b)()).seconds},I=function(){return!(window.location.href.indexOf("https://www.bild.de")>-1&&Object(o.e)())},k=function(){return j()<=270},U=function(){return v(void 0,void 0,void 0,(function(){var e,t,n;return g(this,(function(o){switch(o.label){case 0:if(!Object(r.c)())return[3,4];if(!new URL(window.location.href).searchParams.has("forceSessionRefresh")&&!k())return[3,4];e=j()<=0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,C()];case 2:return o.sent(),(t=new URL(window.location.href)).searchParams.has("forceSessionRefresh")?(a.c.sendCountMetric("session","refresh","onload","param","success"),t.searchParams.delete("forceSessionRefresh"),window.location.href=t.toString()):e?(a.c.sendCountMetric("session","refresh","onload","expired","success"),window.location.reload()):a.c.sendCountMetric("session","refresh","onload","preemtive","success"),[3,4];case 3:return n=o.sent(),console.error(n),a.c.sendCountMetric("session","refresh","onload","failed"),[3,4];case 4:return[2]}}))}))},M=function(){setInterval((function(){return v(void 0,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:if(!Object(r.c)()||!k())return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,C()];case 2:return e.sent(),a.c.sendCountMetric("session","refresh","auto","timer","success"),[3,4];case 3:return e.sent(),a.c.sendCountMetric("session","refresh","auto","timer","failed"),[3,4];case 4:return[2]}}))}))}),6e4+5e3*Math.random())}},function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},r=e.length;if(r<2)return n;var i=t&&t.decode||l,s=0,u=0,a=0;do{if(-1===(u=e.indexOf("=",s)))break;if(-1===(a=e.indexOf(";",s)))a=r;else if(u>a){s=e.lastIndexOf(";",u-1)+1;continue}var d=c(e,s,u),p=f(e,u,d),y=e.slice(d,p);if(!o.call(n,y)){var w=c(e,u+1,a),b=f(e,a,w);34===e.charCodeAt(w)&&34===e.charCodeAt(b-1)&&(w++,b--);var v=e.slice(w,b);n[y]=h(v,i)}s=a+1}while(s<r);return n},t.serialize=function(e,t,n){var o=n&&n.encode||encodeURIComponent;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var c=o(t);if(!s.test(c))throw new TypeError("argument val is invalid");var f=e+"="+c;if(!n)return f;if(null!=n.maxAge){var l=Math.floor(n.maxAge);if(!isFinite(l))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+l}if(n.domain){if(!u.test(n.domain))throw new TypeError("option domain is invalid");f+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError("option path is invalid");f+="; Path="+n.path}if(n.expires){var h=n.expires;if(!function(e){return"[object Date]"===r.call(e)}(h)||isNaN(h.valueOf()))throw new TypeError("option expires is invalid");f+="; Expires="+h.toUTCString()}n.httpOnly&&(f+="; HttpOnly");n.secure&&(f+="; Secure");n.partitioned&&(f+="; Partitioned");if(n.priority){switch("string"==typeof n.priority?n.priority.toLowerCase():n.priority){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f};var r=Object.prototype.toString,o=Object.prototype.hasOwnProperty,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,s=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,u=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(e,t,n){do{var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<n);return n}function f(e,t,n){for(;t>n;){var r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return n}function l(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function h(e,t){try{return t(e)}catch(t){return e}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return g}));var r=n(1),o=n(4),i=n(18),s=n(9),u=n(13),a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function f(){return window.parent!==window}function l(){return f()?"REPLACE_ME_WITH_PS_ENCODED_HREF":function(){var e=window.location.href;if(-1===e.indexOf(".hh-han.com"))return e;if(e.indexOf(".bild.de")>-1)return"https://www.bild.de/";if(e.indexOf(".welt.de")>-1)return"https://www.welt.de/"}()}function h(e){f()?window.parent.postMessage({eventType:"whoami-navigateParent",data:e},"*"):window.location.href=Object(s.a)()?Object(s.b)(e):e}function d(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Object(i.a)(new Promise((function(e){var t=!0,n=function(){void 0!==window.Visitor&&(t=!1,e(window.Visitor))};n(),setInterval((function(){t&&n()}),200)})),200)];case 1:return[2,t.sent().getInstance(Object(r.i)()).appendVisitorIDsTo(e)];case 2:return t.sent(),[2,e];case 3:return[2]}}))}))}function p(e){return e=function(e){if(void 0!==window&&void 0!==window._sp_&&void 0!==window._sp_.config&&void 0!==window._sp_.config.propertyId&&Number.isInteger(window._sp_.config.propertyId))return e+"&sp_pid="+window._sp_.config.propertyId;return""+e}(e=function(e){var t=Object(o.d)("consentUUID");if(void 0!==t&&t.length>0&&t.length<100)return e+"&sp_cuuid="+encodeURIComponent(t);return""+e}(e=function(e){var t=Object(o.d)(Object(r.a)());if(t.length>0&&"adobe_cmp"!==t.replace(/,/g,""))return e+"&cfta=1";return""+e}(e)))}function y(e,t,n){return void 0===n&&(n=l()),a(this,void 0,void 0,(function(){var r,o;return c(this,(function(i){switch(i.label){case 0:return r=e.startsWith("https://signin.auth")||e.startsWith("https://login.")?"returnTo":"service",[4,d(e+"?"+r+"="+encodeURIComponent(n))];case 1:return o=i.sent(),t&&(o=function(e,t){var n="";return t.forEach((function(e,t){e.forEach((function(e){n+="&"+t+"="+encodeURIComponent(e)}))})),""+e+n}(o,t)),[2,o=p(o=function(e){for(var t="",n=0,r=document.cookie.split("; ");n<r.length;n++){var o=r[n];if(-1!==o.indexOf("pslt=")){t=o;break}}if(""===t)return e;var i=t.split("=")[1];return e+"&pslt="+encodeURIComponent(i)+"&psltts="+Date.now()}(o))]}}))}))}function w(e){return a(this,void 0,void 0,(function(){var t,n;return c(this,(function(o){switch(o.label){case 0:return t=l(),void 0===(null==e?void 0:e.get("variant"))&&m()&&(e=e||new Map,n=Object(u.a)(t),e.set("variant",[n])),[4,y(Object(r.d)(),e,t)];case 1:return h(o.sent()),[2,new Promise((function(e,t){e()}))]}}))}))}function b(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,y(Object(r.e)(),e)];case 1:return h(t.sent()),[2,new Promise((function(e,t){e()}))]}}))}))}function v(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return t=function(){var e=l();if(0===e.indexOf("https://meinkonto-sportbild.bild.de")||0===e.indexOf("https://sportbild.bild.de"))return"https://sportbild.bild.de/";var t=e.split("/")[2].split(".");return"https://www."+t[t.length-2]+"."+t[t.length-1]+"/"}(),[4,y(Object(r.e)(),e,t)];case 1:return h(n.sent()),[2,new Promise((function(e,t){e()}))]}}))}))}function g(e){return a(this,void 0,void 0,(function(){var t,n;return c(this,(function(o){switch(o.label){case 0:return t=l(),void 0===(null==e?void 0:e.get("variant"))&&m()&&(e=e||new Map,n=Object(u.a)(t),e.set("variant",[n])),[4,y(Object(r.f)(),e,t)];case 1:return h(o.sent()),[2,new Promise((function(e,t){e()}))]}}))}))}function m(){return!f()}},function(e,t,n){"use strict";new Set;function r(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:n,value:e[n++]});else{var o=1,i="";if("?"===e[u=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(u));for(;u<e.length;)if("\\"!==e[u]){if(")"===e[u]){if(0===--o){u++;break}}else if("("===e[u]&&(o++,"?"!==e[u+1]))throw new TypeError("Capturing groups are not allowed at ".concat(u));i+=e[u++]}else i+=e[u++]+e[u++];if(o)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=u}else{for(var s="",u=n+1;u<e.length;){var a=e.charCodeAt(u);if(!(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a))break;s+=e[u++]}if(!s)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:s}),n=u}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),r=t.prefixes,o=void 0===r?"./":r,s=t.delimiter,u=void 0===s?"/#?":s,a=[],c=0,f=0,l="",h=function(e){if(f<n.length&&n[f].type===e)return n[f++].value},d=function(e){var t=h(e);if(void 0!==t)return t;var r=n[f],o=r.type,i=r.index;throw new TypeError("Unexpected ".concat(o," at ").concat(i,", expected ").concat(e))},p=function(){for(var e,t="";e=h("CHAR")||h("ESCAPED_CHAR");)t+=e;return t},y=function(e){var t=a[a.length-1],n=e||(t&&"string"==typeof t?t:"");if(t&&!n)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!n||function(e){for(var t=0,n=u;t<n.length;t++){var r=n[t];if(e.indexOf(r)>-1)return!0}return!1}(n)?"[^".concat(i(u),"]+?"):"(?:(?!".concat(i(n),")[^").concat(i(u),"])+?")};f<n.length;){var w=h("CHAR"),b=h("NAME"),v=h("PATTERN");if(b||v){var g=w||"";-1===o.indexOf(g)&&(l+=g,g=""),l&&(a.push(l),l=""),a.push({name:b||c++,prefix:g,suffix:"",pattern:v||y(g),modifier:h("MODIFIER")||""})}else{var m=w||h("ESCAPED_CHAR");if(m)l+=m;else if(l&&(a.push(l),l=""),h("OPEN")){g=p();var A=h("NAME")||"",E=h("PATTERN")||"",C=p();d("CLOSE"),a.push({name:A||(E?c++:""),pattern:A&&!E?y(g):E,prefix:g,suffix:C,modifier:h("MODIFIER")||""})}else d("END")}}return a}function o(e,t){var n=[];return function(e,t,n){void 0===n&&(n={});var r=n.decode,o=void 0===r?function(e){return e}:r;return function(n){var r=e.exec(n);if(!r)return!1;for(var i=r[0],s=r.index,u=Object.create(null),a=function(e){if(void 0===r[e])return"continue";var n=t[e-1];"*"===n.modifier||"+"===n.modifier?u[n.name]=r[e].split(n.prefix+n.suffix).map((function(e){return o(e,n)})):u[n.name]=o(r[e],n)},c=1;c<r.length;c++)a(c);return{path:i,index:s,params:u}}}(a(e,n,t),n,t)}function i(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function u(e,t,n){return function(e,t,n){void 0===n&&(n={});for(var r=n.strict,o=void 0!==r&&r,u=n.start,a=void 0===u||u,c=n.end,f=void 0===c||c,l=n.encode,h=void 0===l?function(e){return e}:l,d=n.delimiter,p=void 0===d?"/#?":d,y=n.endsWith,w="[".concat(i(void 0===y?"":y),"]|$"),b="[".concat(i(p),"]"),v=a?"^":"",g=0,m=e;g<m.length;g++){var A=m[g];if("string"==typeof A)v+=i(h(A));else{var E=i(h(A.prefix)),C=i(h(A.suffix));if(A.pattern)if(t&&t.push(A),E||C)if("+"===A.modifier||"*"===A.modifier){var _="*"===A.modifier?"?":"";v+="(?:".concat(E,"((?:").concat(A.pattern,")(?:").concat(C).concat(E,"(?:").concat(A.pattern,"))*)").concat(C,")").concat(_)}else v+="(?:".concat(E,"(").concat(A.pattern,")").concat(C,")").concat(A.modifier);else{if("+"===A.modifier||"*"===A.modifier)throw new TypeError('Can not repeat "'.concat(A.name,'" without a prefix and suffix'));v+="(".concat(A.pattern,")").concat(A.modifier)}else v+="(?:".concat(E).concat(C,")").concat(A.modifier)}}if(f)o||(v+="".concat(b,"?")),v+=n.endsWith?"(?=".concat(w,")"):"$";else{var x=e[e.length-1],O="string"==typeof x?b.indexOf(x[x.length-1])>-1:void 0===x;o||(v+="(?:".concat(b,"(?=").concat(w,"))?")),O||(v+="(?=".concat(b,"|").concat(w,")"))}return new RegExp(v,s(n))}(r(e,n),t,n)}function a(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,o=n.exec(e.source);o;)t.push({name:o[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),o=n.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,n){var r=e.map((function(e){return a(e,t,n).source}));return new RegExp("(?:".concat(r.join("|"),")"),s(n))}(e,t,n):u(e,t,n)}const c="undefined"!=typeof window;function f(e,t){const n=function(e){const t=new URL(e);return`${t.pathname}${t.search}`}(t);return function(e){return o(e,{decode:decodeURIComponent})}(e)(n)}function l(){return!!c&&(window&&window.psLinkiAvailable)}function h(e,t){const n=e.find(e=>f(e.path,t)&&function(e,t){return e.includes(new URL(t).hostname)}(e.domains,t));if(!n)return null;let r={rule:n};const o=f(n.path,t);return o&&(r.parameters=o.params),r}function d(e,t,n){return n.replace(`<${t}>`,e)}const p=()=>{if(window){const n=c&&window.nmtAppInfo?(e=window.nmtAppInfo.appIdentifier,t=window.nmtAppInfo.semanticVersion,("de.bild.newsapp"===e&&t.startsWith("5.")||"de.bild.ipad"===e&&t.startsWith("5.")||"de.bild.bundesliga"===e&&t.startsWith("5.")||"de.bild.MeinKlub"===e&&t.startsWith("8.")||"com.netbiscuits.bild.android"===e&&t.startsWith("8."))&&(window.nmtAppInfo.appIdentifier+="-legacy"),window.nmtAppInfo):null,r=window.nmtLinkConfig;return n?r[n.appIdentifier]:null}var e,t;return null};function y(e){if(window){const t=p();if(!t)return e;const n=h(t.rules,e);return n&&(e=function(e,t){const{translatesTo:n}=e;let r=n;if(t){const e=Object.keys(t);for(const n of e){r=d(t[n],n,r)}}return r}(n.rule,n.parameters)),e}return e}n(3);n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return l}))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,c=[],f=!1,l=-1;function h(){f&&a&&(f=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!f){var e=u(h);f=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function t(n,r){function o(t,o,i){if("undefined"!=typeof document){"number"==typeof(i=e({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n.write(o,t)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},o=0;o<t.length;o++){var i=t[o].split("="),s=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(r[u]=n.read(s,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(t,n){o(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(e,t,n){"use strict";(function(r){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(15)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(10))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(e,t){var n=e.split(".").reverse(),r=t.hostname.split(".").slice().reverse().slice(0,n.length);return n.length===r.length&&n.every((function(e,t){return e===r[t]}))},o={"bild.de":{matchers:{sportbild:function(e){return r("sportbild.bild.de",e)||r("meinkonto-sportbild.bild.de",e)||"checkout-sportbild.prod.ps.bild.de"===e.hostname},"bild-markenshop":function(e){return r("marktplatz.bild.de",e)}},default:"bild"},"welt.de":{default:"welt"},"axelspringer.de":{default:"osp"},"sportbild.de":{default:"sportbild-fanmeile"},"autobild.de":{matchers:{"autobild-vip-lounge":function(e){return r("vip-lounge.autobild.de",e)||r("club.autobild.de",e)}},default:"autobild"},"computerbild.de":{default:"computerbild-vip-lounge"},"bz-berlin.de":{default:"bz"}},i=function(e){var t=new URL(e),n=t.hostname.split(".").slice(-2).join("."),r=o[n];if(r){var i=r.matchers;if(i)for(var s=0,u=Object.entries(i);s<u.length;s++){var a=u[s],c=a[0];if((0,a[1])(t))return c}return r.default}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var n;function s(){if(s.enabled){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=s,u=Number(new Date),a=u-(n||u);i.diff=a,i.prev=n,i.curr=u,n=u,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return e;c++;var o=r.formatters[n];if("function"==typeof o){var s=t[c];e=o.call(i,s),t.splice(c,1),c--}return e})),r.formatArgs.call(i,t);var f=i.log||r.log;f.apply(i,t)}}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var i=r.instances[t];i.enabled=r.enabled(i.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(16),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return s(e,t,i,"day");if(t>=o)return s(e,t,o,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(23),o=n(24),i=n(25);function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=a.prototype:(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);a.TYPED_ARRAY_SUPPORT?(e=t).__proto__=a.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=u(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(a.isBuffer(t)){var n=0|d(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=u(e,t<0?0:0|d(t)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return N(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return S(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){var i,s=1,u=e.length,a=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,u/=2,a/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var f=-1;for(i=n;i<u;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===a)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(n+a>u&&(n=u-a),i=n;i>=0;i--){for(var l=!0,h=0;h<a;h++)if(c(e,i+h)!==c(t,h)){l=!1;break}if(l)return i}return-1}function g(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var u=parseInt(t.substr(2*s,2),16);if(isNaN(u))return s;e[n+s]=u}return s}function m(e,t,n,r){return H(N(t,e.length-n),e,n,r)}function A(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return A(e,t,n,r)}function C(e,t,n,r){return H(Y(t),e,n,r)}function _(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,u,a,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(a=(31&c)<<6|63&i)>127&&(f=a);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(a=(15&c)<<12|(63&i)<<6|63&s)>2047&&(a<55296||a>57343)&&(f=a);break;case 4:i=e[o+1],s=e[o+2],u=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&u)&&(a=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&u)>65535&&a<1114112&&(f=a)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=a,t.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,n){return c(null,e,t,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?u(e,t):void 0!==n?"string"==typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},a.allocUnsafe=function(e){return l(null,e)},a.allocUnsafeSlow=function(e){return l(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,o){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),u=Math.min(i,s),c=this.slice(r,o),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){i=c[l],s=f[l];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=D(e[i]);return o}function P(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,o,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}a.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=a.prototype;else{var o=t-e;n=new a(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},a.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},a.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},a.prototype.readUInt8=function(e,t){return t||j(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||j(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||j(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||j(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||j(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){t||j(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||j(e,4,this.length),o.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||j(e,4,this.length),o.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||j(e,8,this.length),o.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||j(e,8,this.length),o.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},a.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=0,s=1,u=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/s>>0)-u&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);I(this,e,t,n,o-1,-o)}var i=n-1,s=1,u=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/s>>0)-u&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:N(new a(e,r).toString()),u=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%u]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(14))},function(e,t,n){"use strict";(function(e,r,o){n.d(t,"a",(function(){return s}));n(6),n(1);e.on("unhandledRejection",(function(e){console.error("unhandledRejection",e)})),r.atob=n(26);!function(){function e(){}e.prototype.getInstance=function(e){return new i}}();var i=function(){function e(){}return e.prototype.appendVisitorIDsTo=function(e){return e+"&adobeFoo=someFoo"},e}();function s(e,t){return new Promise((function(n,r){var o=!0;e.then((function(e){o&&(o=!1,n(e))})).catch((function(e){o&&(o=!1,r(e))})),setTimeout((function(){o&&(o=!1,r(new Error("promise did not resolve in time")))}),t)}))}}).call(this,n(10),n(14),n(17).Buffer)},function(e,t,n){e.exports=n(34)},function(e,t,n){"use strict";e.exports=n(21).polyfill()},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,s=void 0,u=function(e,t){p[o]=e,p[o+1]=t,2===(o+=2)&&(s?s(y):m())},a="undefined"!=typeof window?window:void 0,c=a||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(y,1)}}var p=new Array(1e3);function y(){for(var e=0;e<o;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;o=0}var w,b,v,g,m=void 0;function A(e,t){var n=this,r=new this.constructor(_);void 0===r[C]&&U(r);var o=n._state;if(o){var i=arguments[o-1];u((function(){return I(o,r,i,n._result)}))}else P(n,r,e,t);return r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return O(t,e),t}l?m=function(){return t.nextTick(y)}:f?(b=0,v=new f(y),g=document.createTextNode(""),v.observe(g,{characterData:!0}),m=function(){g.data=b=++b%2}):h?((w=new MessageChannel).port1.onmessage=y,m=function(){return w.port2.postMessage(0)}):m=void 0===a?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(y)}:d()}catch(e){return d()}}():d();var C=Math.random().toString(36).substring(2);function _(){}function x(t,n,r){n.constructor===t.constructor&&r===A&&n.constructor.resolve===E?function(e,t){1===t._state?S(e,t._result):2===t._state?R(e,t._result):P(t,void 0,(function(t){return O(e,t)}),(function(t){return R(e,t)}))}(t,n):void 0===r?S(t,n):e(r)?function(e,t,n){u((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?O(e,n):S(e,n))}),(function(t){r||(r=!0,R(e,t))}),e._label);!r&&o&&(r=!0,R(e,o))}),e)}(t,n,r):S(t,n)}function O(e,t){if(e===t)R(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)S(e,t);else{var n=void 0;try{n=t.then}catch(t){return void R(e,t)}x(e,t,n)}var r,o}function T(e){e._onerror&&e._onerror(e._result),j(e)}function S(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&u(j,e))}function R(e,t){void 0===e._state&&(e._state=2,e._result=t,u(T,e))}function P(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&u(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?I(n,r,o,i):o(i);e._subscribers.length=0}}function I(t,n,r,o){var i=e(r),s=void 0,u=void 0,a=!0;if(i){try{s=r(o)}catch(e){a=!1,u=e}if(n===s)return void R(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;void 0!==n._state||(i&&a?O(n,s):!1===a?R(n,u):1===t?S(n,s):2===t&&R(n,s))}var k=0;function U(e){e[C]=k++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[C]||U(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&S(this.promise,this._result))):R(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(e){s=!0,i=e}if(o===A&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var u=new n(_);s?R(u,i):x(u,e,o),this._willSettleAt(u,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?R(r,n):this._result[t]=n),0===this._remaining&&S(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),F=function(){function t(e){this[C]=k++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){O(e,t)}),(function(t){R(e,t)}))}catch(t){R(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return F.prototype.then=A,F.all=function(e){return new M(this,e).promise},F.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},F.resolve=E,F.reject=function(e){var t=new this(_);return R(t,e),t},F._setScheduler=function(e){s=e},F._setAsap=function(e){u=e},F._asap=u,F.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=F},F.Promise=F,F},e.exports=r()}).call(this,n(10),n(14))},function(e,t,n){"use strict";(function(e){var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e||{},n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,o,i=d(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),o=r?r[1]:"utf-8",t.readAsText(e,o),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function g(e,n){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,o,i=(n=n||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new h(n.headers)),this.method=(r=n.method||this.method||"GET",o=r.toUpperCase(),v.indexOf(o)>-1?o:r),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal||function(){if("AbortController"in t)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==n.cache&&"no-cache"!==n.cache)){var s=/([?&])_=[^&]*/;if(s.test(this.url))this.url=this.url.replace(s,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function A(e,t){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},b.call(g.prototype),b.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var E=[301,302,303,307,308];A.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})};var C=t.DOMException;try{new C}catch(e){(C=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),C.prototype.constructor=C}function _(e,n){return new Promise((function(r,i){var u=new g(e,n);if(u.signal&&u.signal.aborted)return i(new C("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}if(a.onload=function(){var e,t,n={statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();try{t.append(r,o)}catch(e){console.warn("Response "+e.message)}}})),t)};0===u.url.indexOf("file://")&&(a.status<200||a.status>599)?n.status=200:n.status=a.status,n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){r(new A(o,n))}),0)},a.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request timed out"))}),0)},a.onabort=function(){setTimeout((function(){i(new C("Aborted","AbortError"))}),0)},a.open(u.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?a.withCredentials=!0:"omit"===u.credentials&&(a.withCredentials=!1),"responseType"in a&&(o?a.responseType="blob":s&&(a.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof h||t.Headers&&n.headers instanceof t.Headers)){var d=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){d.push(c(e)),a.setRequestHeader(e,f(n.headers[e]))})),u.headers.forEach((function(e,t){-1===d.indexOf(t)&&a.setRequestHeader(t,e)}))}else u.headers.forEach((function(e,t){a.setRequestHeader(t,e)}));u.signal&&(u.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&u.signal.removeEventListener("abort",l)}),a.send(void 0===u._bodyInit?null:u._bodyInit)}))}_.polyfill=!0,t.fetch||(t.fetch=_,t.Headers=h,t.Request=g,t.Response=A)}).call(this,n(14))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],u=r[1],a=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,u)),f=0,l=u>0?s-4:s;for(n=0;n<l;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],a[f++]=t>>16&255,a[f++]=t>>8&255,a[f++]=255&t;2===u&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,a[f++]=255&t);1===u&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,a[f++]=t>>8&255,a[f++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,u=n-o;s<u;s+=16383)i.push(f(e,s,s+16383>u?u:s+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,a=s.length;u<a;++u)r[u]=s[u],o[s.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,i,s=[],u=t;u<n;u+=3)o=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,s,u=8*o-r-1,a=(1<<u)-1,c=a>>1,f=-7,l=n?o-1:0,h=n?-1:1,d=e[t+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=u;f>0;i=256*i+e[t+l],l+=h,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===a)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,u,a,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),(t+=s+l>=1?h/a:h*Math.pow(2,1-l))*a>=2&&(s++,a/=2),s+l>=f?(u=0,s=f):s+l>=1?(u=(t*a-1)*Math.pow(2,o),s+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&u,d+=p,u/=256,o-=8);for(s=s<<o|u,c+=o;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e,t){!function(n){"use strict";var r,o="function"==typeof(r=n.atob)?r:"function"==typeof e?function(t){
//!! Deliberately using an API that's deprecated in node.js because
//!! this file is for browsers and we expect them to cope with it.
//!! Discussion: github.com/node-browser-compat/atob/pull/9
return new e(t,"base64").toString("binary")}:"object"==typeof n.base64js?function(e){var t=n.base64js.b64ToByteArray(e);return Array.prototype.map.call(t,(function(e){return String.fromCharCode(e)})).join("")}:function(){throw new Error("You're probably in an old browser or an iOS webworker. It might help to include beatgammit's base64-js.")};n.atob=o,t&&t.exports&&(t.exports=o)}(window)}).call(this,n(17).Buffer,n(27)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){var n={},r={},o=window.pssmasloader=window.pssmasloader||{_:{u:n,p:r},require:function(e,t){var o=r[e];void 0!==o?t(o,null):(n[e]=n[e]||[],n[e].push(t))}};n=o._.u,r=o._.p;var i=n[e]||[];r[e]=t;for(var s=0;s<i.length;s++)i[s](t,null);return t}n.r(t),n.d(t,"provide",(function(){return r}))},,,,,,function(e,t,n){"use strict";n.r(t);n(20),n(22);var r=n(2),o=n(8),i=n(6),s=n(1),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var l=n(3),h=n(5),d=n(0),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},y=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},w=Object(h.d)("Whoami","IGNORE_NAME","ignore existing name"),b=function(){var e=document.createElement("div");return e.setAttribute("id","data-request-container-wrapper"),e.style.position="fixed",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="999999",e.style.backgroundColor="rgba(29, 29, 29, .8)",e},v=function(){var e=document.getElementById("data-request-container-wrapper");e&&e.remove()};var g={ensureUserHasFirstNameAndLastName:function(e,t,n){return p(this,void 0,void 0,(function(){var o,i;return y(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Object(r.c)()?Object(r.d)([r.a.FIRST_NAME,r.a.LAST_NAME])&&!w.isActive()?[2,{success:!0}]:[4,Object(l.b)()]:(Object(d.a)("ensureUserHasFirstNameAndLastName method was called with logged out user:"+document.location.href),[2,{success:!1,reason:"userNotLoggedIn"}]);case 1:return o=u.sent(),function(e,t,n){var r=b(),o="https://userprofile-web.prod.ps."+Object(s.c)()+"/account-completion.html",i=document.createElement("div");i.setAttribute("data-external-component","PS.Rosetta.IFrame"),i.setAttribute("data-external-iframe",o),i.setAttribute("data-external-iframe-height","100%"),i.setAttribute("data-external-iframe-width",(window.innerWidth<600?window.innerWidth.toString():600)+"px"),i.setAttribute("data-external-props-skippable",e.toString()),t=t||"Konto vervollständigen",n=n||"Um diese Seite bzw. Funktion nutzen zu können, vervollständigen Sie bitte Ihr Konto mit Ihrem Vor- und Nachnamen.",i.setAttribute("data-external-props-title",t),i.setAttribute("data-external-props-text",n),r.appendChild(i),document.body.appendChild(r),d.c.sendCountMetric("ensurefnln","layer","opened")}(e,t,n),[2,new Promise((function(e,t){o.registerIframeMessageListener("upw-panel-account-response",(function(n){switch(v(),d.c.sendCountMetric("ensurefnln","layer","closed",n.status),n.status){case"logout":g.doLogout(),e({success:!1,reason:"userNotLoggedIn"});break;case"error":t({success:!1,reason:"generalError"});break;case"abort":e({success:!1,reason:"userAborted"});break;case"success":g.forceAccessTokenRefresh().then((function(){e({success:!0})})).catch((function(t){Object(d.a)("ensureUserHasFirstNameAndLastName An unexpected error occurred during session refresh:"+JSON.stringify(t)),e({success:!1,reason:"generalError"})}));break;default:t({success:!1,reason:"generalError"})}}))}))];case 2:return i=u.sent(),Object(d.a)("An unexpected error occurred:"+JSON.stringify(i)),[2,{success:!1,reason:"generalError"}];case 3:return[2]}}))}))},ensureUserHasOptin:function(e){return p(this,void 0,void 0,(function(){var t,n,o,i,u;return y(this,(function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),Object(r.c)()?[4,Object(l.b)()]:(Object(d.a)("ensureUserHasOptin method was called with logged out user:"+document.location.href),[2,{success:!1,reason:"userNotLoggedIn"}]);case 1:t=a.sent(),n=void 0,a.label=2;case 2:return a.trys.push([2,5,,6]),[4,g.authorizedFetch(Object(s.h)()+"/api/userinfo",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})];case 3:return[4,a.sent().json()];case 4:return n=a.sent(),[3,6];case 5:return o=a.sent(),Object(d.a)("ensureUserHasOptin An unexpected error occurred during user info call"+JSON.stringify(o)),[2,{success:!1,reason:"generalError"}];case 6:return(i=n.opt_ins.find((function(t){return t.name===e})))?(i.is_active?d.c.sendCountMetric("ensureOptIn","request",e,"alreadyAccepted"):d.c.sendCountMetric("ensureOptIn","request",e,"alreadyDeclined"),[2,{success:!0}]):(d.c.sendCountMetric("ensureOptIn","request",e,"displayLayer"),function(e){var t=b(),n="https://poppy.prod.ps."+Object(s.c)()+"/?optIn="+e,r=document.createElement("div");r.setAttribute("data-external-component","PS.Rosetta.IFrame"),r.setAttribute("data-external-iframe",n),r.setAttribute("data-external-iframe-height","500px"),r.setAttribute("data-external-iframe-width",(window.innerWidth<600?window.innerWidth.toString():600)+"px"),t.appendChild(r),document.body.appendChild(t),d.c.sendCountMetric("ensureoptin","layer","opened")}(e),[2,new Promise((function(n,r){t.registerIframeMessageListener("poppy-panel-optin-response",(function(t){switch(v(),d.c.sendCountMetric("ensureoptin","layer","closed",t.status),t.status){case"abort":d.c.sendCountMetric("ensureOptIn","request",e,"declined"),n({success:!1,reason:"userAborted"});break;case"success":d.c.sendCountMetric("ensureOptIn","request",e,"accepted"),n({success:!0});break;default:r({success:!1,reason:"generalError"})}}))}))]);case 7:return u=a.sent(),Object(d.a)("An unexpected error occurred:"+JSON.stringify(u)),[2,{success:!1,reason:"generalError"}];case 8:return[2]}}))}))},ensureUserHasAuthorization:i.c,authorizedFetch:i.b,isLoggedIn:r.c,isC1User:function(){return!1},isPlenigoUser:function(){var e=Object(r.b)();return null!==e&&null!==e.subOrigin&&("plea"===e.subOrigin||"pleg"===e.subOrigin)},doLogin:function(e){Math.random()>Object(s.g)()&&Object(o.b)(e)},doLogout:function(e){Math.random()>Object(s.g)()&&Object(o.c)(e)},doLogoutToHome:function(e){Math.random()>Object(s.g)()&&Object(o.a)(e)},doRegister:function(e){Math.random()>Object(s.g)()&&Object(o.d)(e)},forceAccessTokenRefresh:i.d,getUserInfo:function(){return u(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,Object(i.b)(Object(s.h)()+"/api/userinfo",{method:"GET"})];case 1:if(!(e=t.sent()).ok)throw new Error("could not get userinfo");return[4,e.json()];case 2:return[2,t.sent()]}}))}))},getCustomerId:function(e){return u(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,Object(i.b)(Object(s.b)()+"/clientid/"+e+"/csuid",{method:"GET"})];case 1:if(!(t=n.sent()).ok)throw new Error("could not get csuId");return[4,t.json()];case 2:return[2,n.sent().csuId]}}))}))},getUnsafePurchaseData:function(){return new Promise((function(e,t){Object(i.c)().then((function(){try{var n=Object(r.b)();e(n.purchaseData)}catch(e){t("error parsing cookie for purchase data")}})).catch((function(e){t("unauthenticated user")}))}))},getJaId:function(){var e=Object(r.b)();if(null===e)throw new Error("Anonymous user - not logged in");if("as"!==e.subOrigin)throw new Error("No jaId present");return e.jaId},getUnsafeRegistrationDate:function(){var e;return c(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Object(i.c)()];case 1:return t.sent(),[2,null===(e=Object(r.b)())||void 0===e?void 0:e.registrationtime];case 2:return t.sent(),[2,null];case 3:return[2]}}))}))},renderAuthComponent:function(e,t){return new Promise((function(n){var r=function(e){var t=e.detail.data,o=t.isLoggedIn,i=t.message_code;n({isLoggedIn:o,message:i}),window.removeEventListener("wonderwall-event",r)};window.addEventListener("wonderwall-event",r),e.className="wonderwall";var o=document.createElement("div");o.setAttribute("data-external-ps-component","ps-wonderwall");for(var i=0,s=Object.entries(t);i<s.length;i++){var u=s[i],a=u[0],c=u[1];o.setAttribute("data-external-props-"+a.toLowerCase(),""+c)}e.innerHTML="",e.appendChild(o)}))}};function m(e){return e.find((function(e){var t=e.domain;return document.location.href.startsWith(t)}))}var A=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},E=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},C=[{domain:"https://marktplatz.bild.de",title:"Konto vervollständigen",text:"Um den Kauf im BILD Marktplatz mit Ihrem BILD-Benutzerkonto abschließen zu können, ist es erforderlich, dass Sie einmalig ihren Vor- und Nachnamen angeben."}],_=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},x=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},O=[{domain:"https://gluecksdreh.bild.de",optIn:"Marketing_AS_2024"}],T=n(9),S=n(13),R=n(4),P=function(e){var t=new URL(e);if("https:"===t.protocol)return t.toString()};window.addEventListener("message",(function(e){var t=e.data,n=t.eventType,r=t.data;n&&"whoami-navigateParent"===n&&function(e){var t=P(e.replace("REPLACE_ME_WITH_PS_ENCODED_HREF",encodeURIComponent(window.document.location.href)));if(t&&Object(R.f)(t)){var n=new URL(t),r=Object(S.a)(t);n.searchParams.set("variant",r);var o=Object(T.a)()?Object(T.b)(n.toString()):n.toString();window.location.assign(o)}}(r)}));var j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,u)}a((r=r.apply(e,t||[])).next())}))},I=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},k=n(28).provide;j(void 0,void 0,void 0,(function(){return I(this,(function(e){switch(e.label){case 0:return void 0!==window.ps_whoami_web?[3,2]:(window.ps_whoami_web=!0,Object(s.k)(),[4,Object(i.e)()]);case 1:e.sent(),g.isLoggedIn()&&C.some((function(e){var t=e.domain;return document.location.href.startsWith(t)}))?A(void 0,void 0,void 0,(function(){var e,t,n,r,o,i,s;return E(this,(function(u){switch(u.label){case 0:e=m(C),t=e.title,n=e.text,u.label=1;case 1:return u.trys.push([1,3,,4]),d.c.sendCountMetric("ensurefnln","enforce","triggered"),[4,g.ensureUserHasFirstNameAndLastName(!1,t,n)];case 2:return r=u.sent(),o=r.success,i=r.reason,o?d.c.sendCountMetric("ensurefnln","enforce","success"):(d.c.sendCountMetric("ensurefnln","enforce",i),document.location.reload()),[3,4];case 3:return s=u.sent(),d.c.sendCountMetric("ensurefnln","enforce","error"),Object(d.a)("An unexpected error occurred:"+JSON.stringify(s)),document.location.reload(),[3,4];case 4:return[2]}}))})).then((function(){k("whoami:v1",g)})):g.isLoggedIn()&&O.some((function(e){var t=e.domain;return document.location.href.startsWith(t)}))?_(void 0,void 0,void 0,(function(){var e,t,n,r,o;return x(this,(function(i){switch(i.label){case 0:e=m(O).optIn,i.label=1;case 1:return i.trys.push([1,3,,4]),d.c.sendCountMetric("ensureOptIn","request",e,"triggered"),[4,g.ensureUserHasOptin(e)];case 2:return t=i.sent(),n=t.success,r=t.reason,n||d.c.sendCountMetric("ensureOptIn","request",e,"failed",r),[3,4];case 3:return o=i.sent(),d.c.sendCountMetric("ensureOptIn","request","failed",e,"generalError"),Object(d.a)("An unexpected error occurred:"+JSON.stringify(o)),[3,4];case 4:return[2]}}))})).then((function(){k("whoami:v1",g)})):k("whoami:v1",g),e.label=2;case 2:return[2]}}))}))}]);